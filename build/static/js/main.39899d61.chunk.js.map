{"version":3,"sources":["images/header-logo.png","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/Api.js","components/PopupWithForm.js","components/DeleteCardPopup.js","utils/editProfileValidators.js","components/FormsValidator.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","cardId","card","onCardClick","onCardLike","onCardDelete","handleClick","useCallback","handleLikeClick","handleDeleteClick","currentUserData","useContext","isOwnCard","ownerId","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","description","likesAmount","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDeleteClick","avatar","name","about","map","key","id","Footer","api","baseUrl","headers","this","fetch","then","res","_getResponseData","serverCard","link","length","owner","formValues","method","body","JSON","stringify","pictureLink","pictureDescription","avatarLink","ok","json","Promise","reject","Error","status","all","getInitialCards","getUserData","authorization","PopupWithForm","props","isOpen","onSubmit","noValidate","onClose","title","children","DeleteCardPopup","onDeletionConfirm","editProfileValidators","userName","required","value","minLength","maxLength","profileDescription","formsValidator","nameInputValue","result","Object","keys","forEach","errorKey","errorResult","descriptionInputValue","EditProfilePopup","onUpdateUser","useState","setFormValues","userNameErrors","profileDescriptionErrors","errors","setErrors","handleSubmit","e","preventDefault","useEffect","handleNameChange","target","prevState","userNameValidationResult","validateEditProfileNameInput","handleDescriptionChange","profileDescriptionValidationResult","validateEditProfileDescriptionInput","isUserNameInvalid","values","Boolean","isDescriptionInvalid","isSubmitDisabled","onChange","placeholder","disabled","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","handleInputChange","photoDescription","ImagePopup","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","cardToBeDeleted","setCardToBeDeleted","selectedCard","setSelectedCard","currentUser","setUser","setCards","loadAppInfo","cardsFromServer","userData","initialCards","initialCard","createCard","catch","error","console","log","handleCardLike","i","changeLikeCardStatus","newCard","newCards","c","closeAllPopups","handleDeleteCard","deleteCard","cardsWithoutDeletedCard","filter","alert","handleAddCard","newCardData","addNewCard","handleUpdateUser","editProfile","handleUpdateAvatar","avatarObject","changeAvatar","updatedUserData","prepareCardForDeletion","Provider","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.39899d61.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAiCAMAAABRP3qRAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMAYCDfvxBAgJ/vH1DPr3AwkKBvJSFYsgAAAyNJREFUWMPFltF62yAMhSWEZChgO/X7v+swQQHirBv7ulQXxZYl+CsOCvBOs9kQXhn7Dd5vB4qkHV5ZYHi/HR8AxsMW8oAA4nYDsO0OAVYGXhy+i6rxbB7QAYgFpIDEhlBIgD6A9lK8N9rxiRgX5VnzwLDF8+/JwxmW4J12JEcOlMdEchvA7hMWHnEUCcBk44veq/fb90s8K88pIp+BWCJmHiFhQ2CObP55aXd6l//AA3YBIcPJwicCRJEFwO2ZBzPhZ+U5wpBXnPM8ARH5DzylQMnTamEj62/AKUZrMg/HGG/KY8dE/Ccem3M+/iqyUhu+awPaa+U5ZIinb+GZt8YzHHw5fpxnULT7eZ5j7V0XnuAikV1Mr4G7z4UqOeco5yTnHGvEmohiQjPLk/yg6CW7XM8jdFTb+eqjst5NX7VGvDwClkked6ZKr2bCwqN8zSK3E9gBXXk4dhFukoc1R5fCjieUhrBKuNGjM5jyGMyG6hMsj5/ag1zJwrDaUtc5HrBF0U2WpuOhqq5KIcrsWrgMetYAf3evpZ/M8Ygur47G0++cUaHd2hLi1sAXnpMcu/22czyQF6J22KWjiPpFObiO4Yvzvh1dFvuSNcXTFE1ZtF1VBmkV91b3gPD3PGvrIEo/x8OlpqrmjkfOD4taKl/rv3xQWuXKM+xno5vhqZPxfSTueMIxmMpi8/XNJ3zBY2sd2wnd53iqovW18eBrHjC3sf80nvFRa+xmeKpu/V3NBp7qk7A3ozINu61AfNmvS32WOZ6qaK4HuvGYr2stpUzLM8/+qKNOvc7yFJSi5oEHsju+Tm1Lp5Gn9cuuZU7x6MTahhrPOJmswiUrrNhNYBtPazmeuwiCaR7R376RRzrFGrqfQu5uTPioT+rIbw8v8Jm0zvPAXZ2m8TQ34eOO4dQXS2TwD6nsZ6CYTX9ZDntGSKyKn+ZZ682+8bSiHN5Gr4db249NtoxpuOb67kLiyZdhg1kebbo48jSgsdcE33yWx4vS9hxBG8zyaMEJBh59i3rT40fezVcahBZXyHGM8Dnp280IYjCjT0L28XOcmDFigxn7BXfVTDScMGEQAAAAAElFTkSuQmCC\"","import React from 'react';\nimport logoPath from '../images/header-logo.png';\n\nfunction Header() {\n  return (\n      <header className=\"header page__header\">\n        <img className=\"header__logo\" src={logoPath} alt=\"здесь должен быть логотип, но что-то пошло не так\" />\n      </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useCallback } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({cardId, card, onCardClick, onCardLike, onCardDelete }) {\n    const handleClick = useCallback(() => {\n        onCardClick(card);\n    }, [onCardClick, card]);\n    \n    const handleLikeClick = useCallback(() => {\n        onCardLike(card);\n      }, [onCardLike, card]);\n\n      const handleDeleteClick = useCallback(() => {\n          onCardDelete(card);\n      }, [onCardDelete, card]);\n\n    const currentUserData = React.useContext(CurrentUserContext);\n    const isOwnCard = card.ownerId === currentUserData._id;\n    const isLiked = card.likes.some(item => item._id === currentUserData._id);\n\n    const cardDeleteButtonClassName = (\n        `photo-card__delete-button ${isOwnCard && 'photo-card__delete-button_visible'}`\n      );\n    const cardLikeButtonClassName = (`photo-card__like ${isLiked && 'photo-card__like_active'}`);\n\n    return (\n        <li>\n            <figure className=\"photo-card\">\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n                <img className=\"photo-card__photo\" src={card.src} alt={card.alt} onClick={handleClick} />\n                <figcaption className=\"photo-card__caption\">\n                    <h2 className=\"photo-card__description\">{card.description}</h2>\n                    <div className=\"photo-card__like-container\">\n                        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                        <p className=\"photo-card__likes-amount\">{card.likesAmount}</p>\n                    </div>\n                </figcaption>\n            </figure>\n        </li>\n    )\n}\n\nexport default Card;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Card from './Card.js';\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDeleteClick}) {\n  const currentUserData = React.useContext(CurrentUserContext);\n\n  if (currentUserData) {\n    return (\n      <main className=\"content-container page__content-container\">\n          <section className=\"profile content-container__profile\">\n            \n            <div className=\"profile__avatar-overlay\">\n              <img className=\"profile__avatar\" alt=\"здесь должно быть фото профиля, но что-то пошло не так\" src={currentUserData.avatar}/>\n              <button type=\"button\" className=\"profile__avatar-change-button\" onClick={onEditAvatar}></button>\n            </div>\n            \n            <div className=\"profile__info\">\n              <div className=\"profile__name-and-button-container\">\n                <h1 className=\"profile__name\">{currentUserData.name}</h1>\n                <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n              </div>\n              <p className=\"profile__description\">{currentUserData.about}</p>\n            </div>\n            \n            <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n          \n          </section>\n  \n          <section className=\"photo-cards\">\n            \n            <ul className=\"photo-cards__list\">\n              {cards.map(card => <Card key={card.id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDeleteClick} />)}\n            </ul>\n            \n          </section>\n        </main>\n    );\n  }\n  else {\n    return null;\n  }\n  \n  \n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n      <footer className=\"footer page__footer\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n      </footer>\n  );\n}\n\nexport default Footer;\n","class Api {\n    constructor({ baseUrl, headers }) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    getUserData() {\n        return fetch(`${this.baseUrl}/users/me`, {\n            headers: this.headers,\n        })\n            .then(res => {\n                return this._getResponseData(res);\n            });\n    }\n\n    createCard(serverCard) {\n        return {\n          src: serverCard.link,\n          alt: serverCard.name,\n          description: serverCard.name,\n          likes: serverCard.likes,\n          likesAmount: serverCard.likes.length,\n          id: serverCard._id,\n          ownerId: serverCard.owner._id,\n        }\n      }\n\n    getInitialCards() {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers,\n        })\n            .then(res => {\n                return this._getResponseData(res);\n            });\n    }\n\n    editProfile(formValues) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: formValues.name,\n                about: formValues.about\n            })\n        })\n            .then(res => {\n                return this._getResponseData(res);\n            });\n    }\n\n    addNewCard(pictureLink, pictureDescription) {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                link: pictureLink,\n                name: pictureDescription\n            })\n        })\n            .then(res => {\n                return this._getResponseData(res);\n            });\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.baseUrl}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this.headers,\n        })\n            .then(res => {\n                return this._getResponseData(res);\n            });\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (!isLiked) {\n            return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n                method: 'PUT',\n                headers: this.headers,\n            })\n                .then(res => {\n                    return this._getResponseData(res);\n                });\n        }\n        else {\n            return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n                method: 'DELETE',\n                headers: this.headers,\n            })\n                .then(res => {\n                    return this._getResponseData(res);\n                });\n        }\n    }\n\n    changeAvatar(avatarLink) {\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                avatar: avatarLink,\n            })\n        })\n            .then(res => {\n                return this._getResponseData(res);\n            });\n    }\n\n    _getResponseData(res){\n        if (res.ok) {\n            return res.json();\n        }\n\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    }\n\n    loadAppInfo() {\n        return Promise.all([this.getInitialCards(), this.getUserData()]);\n      }\n\n}\n\nexport const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n    headers: {\n        authorization: '281eea5d-a9b0-4240-a494-1ec91d19957f',\n        'Content-Type': 'application/json'\n    }\n});","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen && `popup_opened`}`} >\n        \n        <form className =\"popup__form\" name={`${props.name}`} onSubmit={props.onSubmit} noValidate>\n\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n\n        <h2 className=\"popup__header\">{`${props.title}`}</h2>\n        \n        {props.children}\n\n        </form>\n\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction DeleteCardPopup({ isOpen, onClose, onDeletionConfirm }) {\n    return (\n        <PopupWithForm title=\"Вы уверены?\" name=\"delete-card\" isOpen={isOpen} onClose={onClose} >\n            <button type=\"button\" className=\"popup__submit-button\" onClick={onDeletionConfirm}>Да</button>\n        </PopupWithForm>\n    );\n\n}\n\nexport default DeleteCardPopup;","export const editProfileValidators = {\n    userName: {\n      required: (value) => {\n        return value === \"\";\n      },\n      minLength: (value) => {\n        return value.length < 2;\n      },\n      maxLength: (value) => {\n        return value.length > 40;\n      }\n    },\n    profileDescription: {\n      required: (value) => {\n        return value === \"\";\n      },\n      minLength: (value) => {\n        return value.length < 2;\n      },\n      maxLength: (value) => {\n        return value.length > 200;\n      }\n    }\n  };","import { editProfileValidators } from '../utils/editProfileValidators.js';\n\n\nclass FormsValidator {\n\n    validateEditProfileNameInput(nameInputValue) {\n        let result = {}\n        Object.keys(editProfileValidators.userName)\n            .forEach((errorKey) => {\n                const errorResult = editProfileValidators.userName[errorKey](nameInputValue);\n                result[errorKey] = errorResult;\n            });\n        return result;\n    }\n\n    validateEditProfileDescriptionInput(descriptionInputValue) {\n        let result = {}\n        Object.keys(editProfileValidators.profileDescription)\n            .forEach((errorKey) => {\n                const errorResult = editProfileValidators.profileDescription[errorKey](descriptionInputValue);\n                result[errorKey] = errorResult;\n            });\n        return result;\n    }   \n}\n\nexport const formsValidator = new FormsValidator();","import React, { useCallback } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { formsValidator } from './FormsValidator.js';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n    const [formValues, setFormValues] = React.useState({\n        userName: \"\",\n        profileDescription: \"\"\n    });\n\n    const [errors, setErrors] = React.useState({\n        userNameErrors: {\n            required: false,\n            minLength: false,\n            maxLength: false,\n        },\n        profileDescriptionErrors: {\n            required: false,\n            minLength: false,\n            maxLength: false,\n        }\n    });\n\n    const currentUserData = React.useContext(CurrentUserContext);\n\n    const handleSubmit = useCallback((e) => {\n        e.preventDefault();\n        onUpdateUser({\n            name: formValues.userName,\n            about: formValues.profileDescription,\n        });\n    }, [onUpdateUser, formValues]);\n\n    React.useEffect(() => {\n        if (currentUserData) {\n            setFormValues({\n                userName: currentUserData.name,\n                profileDescription: currentUserData.about});\n        }\n    }, [currentUserData]);\n\n    const handleNameChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setFormValues((prevState) => ({ ...prevState, [name]: value }));\n        const userNameValidationResult = formsValidator.validateEditProfileNameInput(value);\n        setErrors((prevState) => ({...prevState, \n            userNameErrors: userNameValidationResult,\n        }));\n    }, [setFormValues, setErrors]);\n\n    const handleDescriptionChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setFormValues((prevState) => ({...prevState, [name]: value}));\n        const profileDescriptionValidationResult = formsValidator.validateEditProfileDescriptionInput(value);\n        setErrors((prevState) => ({...prevState, \n            profileDescriptionErrors: profileDescriptionValidationResult,\n        }));\n    }, [setFormValues, setErrors]);\n\n    const isUserNameInvalid = Object.values(errors.userNameErrors).some(Boolean);\n    const isDescriptionInvalid = Object.values(errors.profileDescriptionErrors).some(Boolean);\n    const isSubmitDisabled = isUserNameInvalid || isDescriptionInvalid;\n \n    return (\n        <PopupWithForm title=\"Редактировать профиль\" name=\"profile\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n        <label className=\"popup__input\">\n          <input className=\"popup__field popup__field_name\" value={formValues.userName} onChange={handleNameChange} type=\"text\" name=\"userName\" placeholder=\"Имя\" />\n          {errors.userNameErrors.required && <span className=\"popup__field-error\">Пожалуйста, заполните поле</span>}\n          {errors.userNameErrors.minLength && <span className=\"popup__field-error\">Минимальная длина имени - 2 символа</span>}\n          {errors.userNameErrors.maxLength && <span className=\"popup__field-error\">Максимальная длина имени - 40 символов</span>}\n        </label>\n\n        <label className=\"popup__input\">\n          <input className=\"popup__field popup__field_description\" value={formValues.profileDescription} onChange={handleDescriptionChange} type=\"text\" name=\"profileDescription\" placeholder=\"О себе\" />\n          {errors.profileDescriptionErrors.required && <span className=\"popup__field-error\">Пожалуйста, заполните поле</span>}\n          {errors.profileDescriptionErrors.minLength && <span className=\"popup__field-error\">Минимальная длина описания - 2 символа</span>}\n          {errors.profileDescriptionErrors.maxLength && <span className=\"popup__field-error\">Максимальная длина описания - 200 символов</span>}\n        </label>\n\n        <button disabled={isSubmitDisabled} className=\"popup__submit-button\" onClick={handleSubmit} name=\"Сохранить\">Сохранить</button>\n      </PopupWithForm>\n    );\n\n}\n\nexport default EditProfilePopup;","import React, { useCallback } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n    const avatarRef = React.useRef(null);\n\n    const handleSubmit = useCallback((e) => {\n        e.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n          });\n    }, [onUpdateAvatar, avatarRef]);\n\n  React.useEffect((isOpen) => {\n    if (!isOpen) {\n      avatarRef.current.value = '';\n    }\n  }, [isOpen]);\n\n \n    return (\n        <PopupWithForm title=\"Обновить аватар\" name=\"change-avatar\" isOpen={isOpen} onClose={onClose} onUpdateAvatar={handleSubmit}>\n\n        <label className=\"popup__input\">\n          <input className=\"popup__field popup__field popup__field_photo-link\" ref={avatarRef} type=\"url\" placeholder=\"Ссылка на новый аватар\" name=\"avatar-link\" required />\n          <span className=\"popup__field-error\"></span>\n        </label>\n\n        <button className=\"popup__submit-button\" name=\"Сохранить\" onClick={handleSubmit}>Сохранить</button>\n      </PopupWithForm>\n    );\n\n}\n\nexport default EditAvatarPopup;","import React, { useCallback } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddCard }) {\n\n    const [formValues, setFormValues] = React.useState({\n        link: \"\",\n        description: \"\"\n    });\n\n    const handleInputChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setFormValues((prevState) => ({...prevState, [name]: value}));\n    }, [setFormValues]);\n\n    const handleSubmit = useCallback((e) => {\n        e.preventDefault();\n        onAddCard({\n            link: formValues.link,\n            photoDescription: formValues.description,\n        });\n    }, [onAddCard, formValues]);\n\n     React.useEffect(() => {\n        if (!isOpen) {\n            setFormValues({\n                link: \"\",\n                description: \"\"\n            });\n        }\n    }, [isOpen]);  \n\n    return (\n        <PopupWithForm title=\"Новое место\" name=\"add-photo\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <label className=\"popup__input\">\n                <input className=\"popup__field popup__field_photo-description\" value={formValues.description} onChange={handleInputChange} type=\"text\" placeholder=\"Название\" name=\"description\" minLength=\"1\" maxLength=\"30\" required />\n                <span className=\"popup__field-error\"></span>\n            </label>\n\n            <label className=\"popup__input\">\n                <input className=\"popup__field popup__field_photo-link\" value={formValues.link} onChange={handleInputChange} type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" required />\n                <span className=\"popup__field-error\"></span>\n            </label>\n\n            <button className=\"popup__submit-button\" name=\"Создать\" onClick={handleSubmit}>Создать</button>\n        </PopupWithForm>\n    );\n\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n  if (card){\n    return (\n      <div className=\"popup popup_opened popup_type_photo-view\" onClick={onClose}>\n        <figure className=\"popup__photo-card-fullscreen\">\n          <button type=\"button\" className=\"popup__close-button popup__close-button_small\" onClick={onClose}></button>\n          <img className=\"popup__photo-fullscreen\" src={card.src} alt={card.alt} />\n          <figcaption className=\"popup__photo-caption\">{card.description}</figcaption>\n        </figure>\n      </div>);\n  }\n  else {\n    return null;\n  }\n}\n\nexport default ImagePopup;","import React, { useCallback } from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport { api } from '../utils/Api.js';\nimport '../index.css';\nimport DeleteCardPopup from './DeleteCardPopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n  const [cardToBeDeleted, setCardToBeDeleted] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setUser] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.loadAppInfo()\n      .then(([cardsFromServer, userData]) => {\n        const initialCards = cardsFromServer.map((initialCard) => {\n          return api.createCard(initialCard);\n        })\n        setCards(initialCards);\n        setUser(userData);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, []);\n\n  const handleCardLike = useCallback((card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card.id, isLiked)\n      .then((newCard) => {\n        newCard = api.createCard(newCard);\n        const newCards = cards.map((c) => c.id === card.id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [setCards, cards, currentUser]);\n\n  const closeAllPopups = useCallback(() => {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard(null);\n  }, [setEditProfilePopupOpen, setAddPlacePopupOpen, setEditAvatarPopupOpen, setIsDeleteCardPopupOpen, setSelectedCard]);\n\n  const handleDeleteCard = useCallback(() => { \n    const cardId = cardToBeDeleted.id;\n      api.deleteCard(cardId)\n      .then(() => {\n        const cardsWithoutDeletedCard = cards.filter((item) => {\n          return item.id !== cardId;\n        })\n        setCards(cardsWithoutDeletedCard);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((error) => {\n        alert(error);\n      });\n  }, [closeAllPopups, cardToBeDeleted, cards]);\n\n  const handleAddCard = useCallback((newCardData) => {\n    api.addNewCard(newCardData.link, newCardData.photoDescription)\n      .then((newCard) => {\n        newCard = api.createCard(newCard);\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, [cards, closeAllPopups]);\n  \n  const handleUpdateUser = useCallback((formValues) => {\n    api.editProfile(formValues)\n      .then((res) => {\n        setUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, [closeAllPopups]);\n\n  const handleUpdateAvatar = useCallback((avatarObject) => {\n    api.changeAvatar(avatarObject.avatar)\n      .then((updatedUserData) => {\n        setUser(updatedUserData);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, [closeAllPopups]);\n\n  const prepareCardForDeletion = useCallback((card) => {\n    setCardToBeDeleted(card);\n  }, [setCardToBeDeleted]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main onEditProfile={() => setEditProfilePopupOpen(true)} \n        onAddPlace={() => setAddPlacePopupOpen(true)} \n        onEditAvatar={() => setEditAvatarPopupOpen(true)}\n        onCardClick={function handleCardClick(card){\n          setSelectedCard(card);\n        }}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDeleteClick={function handleDeleteCardClick(card){\n          setIsDeleteCardPopupOpen(true);\n          prepareCardForDeletion(card);\n        }}\n      />\n      <Footer />\n      \n      {isEditProfilePopupOpen && <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>} \n      \n     <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onDeletionConfirm={handleDeleteCard}/>\n      \n      {isAddPlacePopupOpen && <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddCard}/>}\n      \n      {isEditAvatarPopupOpen && <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>}\n      \n      <ImagePopup name=\"change-avatar\" card={selectedCard} onClose={closeAllPopups} />\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('page')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}