{"ast":null,"code":"var _jsxFileName = \"/Users/alyona/Docs/Praktikum-Projects/mesto-react/src/components/EditProfilePopup.js\";\nimport React, { useCallback } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser\n}) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUserData = React.useContext(CurrentUserContext);\n  const handleNameChange = useCallback(e => {\n    setName(e.target.value);\n  }, [setName]);\n  const handleDescriptionChange = useCallback(e => {\n    setDescription(e.target.value);\n  }, [setDescription]);\n  const handleSubmit = useCallback(e => {\n    const syntheticSubmitEvent = e;\n    syntheticSubmitEvent.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }, [onUpdateUser, name, description]);\n  React.useEffect(() => {\n    if (currentUserData) {\n      setName(currentUserData.name);\n      setDescription(currentUserData.about); //добавить очистку полей через return () =>\n    }\n  }, [currentUserData]);\n  return /*#__PURE__*/React.createElement(PopupWithForm, {\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    name: \"profile\",\n    isOpen: isOpen,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"popup__input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"popup__field popup__field_name\",\n    value: name,\n    onChange: handleNameChange,\n    type: \"text\",\n    name: \"user-name\",\n    minLength: \"2\",\n    maxLength: \"40\",\n    placeholder: \"\\u0418\\u043C\\u044F\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"popup__field-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"popup__input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"popup__field popup__field_description\",\n    value: description,\n    onChange: handleDescriptionChange,\n    type: \"text\",\n    name: \"profile-description\",\n    minLength: \"2\",\n    maxLength: \"200\",\n    placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"popup__field-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"popup__submit-button\",\n    onClick: handleSubmit,\n    name: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"));\n}\n\nexport default EditProfilePopup;","map":{"version":3,"sources":["/Users/alyona/Docs/Praktikum-Projects/mesto-react/src/components/EditProfilePopup.js"],"names":["React","useCallback","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","name","setName","useState","description","setDescription","currentUserData","useContext","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","syntheticSubmitEvent","preventDefault","about","useEffect"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    const currentUserData = React.useContext(CurrentUserContext);\n\n    const handleNameChange = useCallback((e) => {\n        setName(e.target.value);\n    }, [setName]);\n\n    const handleDescriptionChange = useCallback((e) => {\n        setDescription(e.target.value);\n    }, [setDescription]);\n\n    const handleSubmit = useCallback((e) => {\n        const syntheticSubmitEvent = e;\n        syntheticSubmitEvent.preventDefault();\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }, [onUpdateUser, name, description]);\n\n\n    React.useEffect(() => {\n        if (currentUserData) {\n            setName(currentUserData.name);\n            setDescription(currentUserData.about);\n            //добавить очистку полей через return () =>\n        }\n    }, [currentUserData]); \n \n    return (\n        <PopupWithForm title=\"Редактировать профиль\" name=\"profile\" isOpen={isOpen} onClose={onClose} >\n        <label className=\"popup__input\">\n          <input className=\"popup__field popup__field_name\" value={name} onChange={handleNameChange} type=\"text\" name=\"user-name\" minLength=\"2\" maxLength=\"40\" placeholder=\"Имя\" required />\n          <span className=\"popup__field-error\"></span>\n        </label>\n\n        <label className=\"popup__input\">\n          <input className=\"popup__field popup__field_description\" value={description} onChange={handleDescriptionChange} type=\"text\" name=\"profile-description\" minLength=\"2\" maxLength=\"200\" placeholder=\"О себе\" required />\n          <span className=\"popup__field-error\"></span>\n        </label>\n\n        <button type=\"submit\" className=\"popup__submit-button\" onClick={handleSubmit} name=\"Сохранить\">Сохранить</button>\n      </PopupWithForm>\n    );\n\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}